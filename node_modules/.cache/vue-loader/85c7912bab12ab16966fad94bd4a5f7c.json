{"remainingRequest":"E:\\vue项目\\CareerPanning\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue项目\\CareerPanning\\src\\components\\login\\background.vue?vue&type=style&index=0&id=acfed4b8&scoped=true&lang=css&","dependencies":[{"path":"E:\\vue项目\\CareerPanning\\src\\components\\login\\background.vue","mtime":1608512309976},{"path":"E:\\vue项目\\CareerPanning\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\vue项目\\CareerPanning\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\vue项目\\CareerPanning\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\vue项目\\CareerPanning\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue项目\\CareerPanning\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.input_style{\n\twidth:100%;\n\theight:30px;\n\tline-height:30px;\n\tdisplay:block;\n}\n.text_style{\n\tfont-size: 15px;\n\tcolor:white;\n\tpadding-bottom: 20px;\n\tpadding-left:20%;\n}\n.code {\n\theight: 50px;\n\tpadding-top: 20px;\n\tfont-size: 20px;\n\tcolor: #454545;\n\tline-height: 50px;\n\t\n}\n\n.imgCode {\n\twidth:100px;\n\theight:39px;\n\tfloat:left;\n\tmargin-left:5px\n}\n.inputCode{\n\twidth:200px;\n\tfloat: left;\n}\n",{"version":3,"sources":["background.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"background.vue","sourceRoot":"src/components/login","sourcesContent":["<!--登录界面-->\r\n<template>\r\n\t<div>\r\n\t\t<el-form \r\n\t\t  :model=\"admin\" \r\n\t\t  ref=\"admin\"\r\n\t\t  style=\"margin-top: 10%;\"\r\n\t\t  :rules=\"rules\" \r\n\t\t  label-width=\"50px\" \r\n\t\t  class=\"demo-ruleForm\" \r\n\t\t  label-position=\"top\"\r\n\t\t>\r\n\t\t  <el-form-item \r\n\t\t  \tlabel=\"学号\" \r\n\t\t\tprop=\"account\"\r\n\t\t\tstyle=\"font-size:20px\"\r\n\t\t  >\r\n\t\t\t<el-input\r\n\t\t\t\tplaceholder=\"请输入学号\"\r\n\t\t\t\tv-model=\"admin.account\"\r\n\t\t\t\tprefix-icon=\"el-icon-user-solid\"\r\n\t\t\t\tclass=\"input_style\"\r\n\t\t\t\tclearable>\r\n\t\t\t</el-input>\r\n\t\t  </el-form-item>\r\n\r\n\t\t  <el-form-item label=\"密码\" prop=\"password\" style=\"color: white;\">\r\n\t\t\t<el-input\r\n\t\t\tplaceholder=\"请输入密码\" \r\n\t\t\tv-model=\"admin.password\" \r\n\t\t\tprefix-icon=\"el-icon-lock\"\r\n\t\t\tshow-password \r\n\t\t\tclass=\"input_style\">\r\n\t\t\t</el-input>\r\n\t\t  </el-form-item>\r\n\r\n\t\t <!-- <div class=\"code\">\r\n\t\t\t <el-form-item prop=\"validateCode\" class=\"inputCode\" label-width=\"50px\">\r\n\t\t\t\t<el-input\r\n\t\t\t\t\tplaceholder=\"请输入验证码\" \r\n\t\t\t\t\tv-model=\"admin.validateCode\" \r\n\t\t\t\t\tclearable>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<div class=\"imgCode\" @click=\"changeImgCode\">\r\n\t\t\t\t<img :src=\"imgCode\" style=\"width:100%;height:100%\"/>\r\n\t\t\t</div>\r\n\t\t  </div> -->\r\n\r\n\t\t  \r\n\t\t  <el-button \r\n\t\t  type=\"primary\" \r\n\t\t  @click=\"login('admin')\" \r\n\t\t  style=\"\r\n\t\t  width:120px;\r\n\t\t  border:0px;\r\n\t\t  margin-left:auto;\r\n\t\t  margin-right:auto;\r\n\t\t  margin-top: 40px;\r\n\t\t  display:block;\r\n\t\t  height:45px\r\n\t\t  \"\r\n\t\t  >登录</el-button>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname:'bg',\r\n\t\tdata() {\r\n\t\t  return {\r\n\t\t\timgCode: 'url',\r\n\t\t\tadmin: {\r\n\t\t\t\taccount:'',\r\n\t\t\t\tpassword:'',\r\n\t\t\t\tvalidateCode:''\r\n\t\t\t},\r\n\t\t\trules:{\r\n\t\t\t\taccount:[\r\n\t\t\t\t\t{ required: true, message: '请输入学号', trigger: 'blur' },\r\n\t\t\t\t\t{pattern:/^[1-9]{1}[0-9]{11}$/,message:'学号只能为数字', trigger: ['blur']}\r\n\t\t\t\t],\r\n\t\t\t\tpassword:[\r\n\t\t\t\t\t{required: true, message: '请输入密码', trigger: 'blur'},\r\n\t\t\t\t\t{min:4,message:'密码不能少于4个字符',trigger: ['blur','change']}\r\n\t\t\t\t],\r\n\t\t\t\tvalidateCode:[\r\n\t\t\t\t\t{required: true, message: '请输入验证码', trigger: 'blur'}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t  }\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t\t// this.changeImgCode();\r\n\t\t},\r\n\t\t\t//asiox与后台交互数据的写法\r\n\t\tmethods:{\r\n\t\t\t//获取验证码\r\n\t\t\tchangeImgCode() {\r\n\t\t\t\t//添加一个随机数（防止缓存）\r\n\t\t\t\tthis.imgCode = this.COMMON.apiUrl + '/login/getValidateCode?' + Math.floor(Math.random() * 100);\r\n\t\t\t},\r\n\r\n\t\t\tlogin(formName) {\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tvar postData = {\r\n\t\t\t\t\t\t\tid:this.admin.account,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tconsole.log(postData);\r\n\t\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\t\turl: this.COMMON.apiUrl+'/student/getById',\r\n\t\t\t\t\t\t\tparams:postData\r\n\t\t\t\t\t\t}).then(response => {\r\n\t\t\t\t\t\t\tconsole.log('response')\r\n\t\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\t\tvar data=response.data.data.student;\r\n\t\t\t\t\t\t\tif(this.admin.password==data.password){\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: '登陆成功',\r\n\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tsessionStorage.setItem(\"isLogin\",1);\r\n\t\t\t\t\t\t\t\tthis.$router.push('/index/'+this.admin.account+'/home');\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: '账号或密码错误，请重新输入',\r\n\t\t\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.$refs['admin'].resetFields();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t    console.log('请求失败');\r\n\t\t\t\t\t\t\t// this.$message({\r\n\t\t\t\t\t\t\t// \tmessage: '账号或密码不符合要求，请重写输入!',\r\n\t\t\t\t\t\t\t// \ttype: 'warning'\r\n\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '数据格式不正确！',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t.input_style{\r\n\t\twidth:100%;\r\n\t\theight:30px;\r\n\t\tline-height:30px;\r\n\t\tdisplay:block;\r\n\t}\r\n\t.text_style{\r\n\t\tfont-size: 15px;\r\n\t\tcolor:white;\r\n\t\tpadding-bottom: 20px;\r\n\t\tpadding-left:20%;\r\n\t}\r\n\t.code {\r\n\t\theight: 50px;\r\n\t\tpadding-top: 20px;\r\n\t\tfont-size: 20px;\r\n\t\tcolor: #454545;\r\n\t\tline-height: 50px;\r\n\t\t\r\n\t}\r\n\r\n\t.imgCode {\r\n\t\twidth:100px;\r\n\t\theight:39px;\r\n\t\tfloat:left;\r\n\t\tmargin-left:5px\r\n\t}\r\n\t.inputCode{\r\n\t\twidth:200px;\r\n\t\tfloat: left;\r\n\t}\r\n</style>\r\n"]}]}