{"remainingRequest":"E:\\vue项目\\CareerPanning\\node_modules\\babel-loader\\lib\\index.js!E:\\vue项目\\CareerPanning\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vue项目\\CareerPanning\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue项目\\CareerPanning\\src\\components\\index\\indexHeader\\userInfor.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue项目\\CareerPanning\\src\\components\\index\\indexHeader\\userInfor.vue","mtime":1608029086835},{"path":"E:\\vue项目\\CareerPanning\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue项目\\CareerPanning\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue项目\\CareerPanning\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue项目\\CareerPanning\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      accountId: this.$route.params.account,\n      userInfor: {\n        departmentName: '',\n        majorName: '',\n        student: {\n          school: '',\n          studentId: '',\n          studentName: ''\n        }\n      },\n      //存放学生信息\n      disUserInfor: true,\n      //是否显示个人信息\n      chaUserInfor: false,\n      //是否显示修改个人信息\n      altUserForm: {},\n      //存放需要修改的数据\n      departments: [],\n      //存放学校系部\n      careers: [] //存放系部专业\n\n    };\n  },\n  mounted: function mounted() {\n    this.getUserInfor();\n    this.getDepartment();\n  },\n  methods: {\n    //将修改后的数据传回header.vue\n    sendToHeader: function sendToHeader() {},\n    //获取系部\n    getDepartment: function getDepartment() {\n      var _this = this;\n\n      this.$axios({\n        method: 'get',\n        url: this.COMMON.apiUrl + '/department/getList'\n      }).then(function (response) {\n        // 请求成功\n        var depData = [];\n        depData = response.data.data;\n\n        for (var i = 0; i < depData.length; i++) {\n          _this.$set(_this.departments, i, {\n            'value': depData[i].departmentId,\n            'label': depData[i].departmentName\n          });\n        }\n      }).catch(function (error) {\n        // 请求失败\n        console.log('请求失败');\n        console.log(error);\n      });\n    },\n    //根据系部的名称，获取对应的专业名称\n    getCareer: function getCareer() {\n      var _this2 = this;\n\n      if (this.altUserForm.departmentId != '') {\n        this.$axios({\n          method: 'get',\n          url: this.COMMON.apiUrl + '/major/getList'\n        }).then(function (response) {\n          // 请求成功\n          console.log('专业');\n          console.log(response.data.data);\n          var majData = [];\n          var j = 0;\n          majData = response.data.data;\n\n          for (var i = 0; i < majData.length; i++) {\n            if (majData[i].departmentId == _this2.altUserForm.departmentId) {\n              _this2.$set(_this2.careers, j, {\n                'value': majData[i].majorId,\n                'label': majData[i].majorName\n              });\n\n              j++;\n            }\n          }\n        }).catch(function (error) {\n          // 请求失败\n          console.log('请求失败');\n          console.log(error);\n        });\n      }\n    },\n    //显示修改个人信息界面\n    changeShow: function changeShow() {\n      this.disUserInfor = !this.disUserInfor;\n      this.chaUserInfor = !this.disUserInfor;\n    },\n    //展示选中的数据\n    obtainValue: function obtainValue(value) {\n      console.log(value);\n    },\n    //获取用户信息\n    getUserInfor: function getUserInfor() {\n      var _this3 = this;\n\n      this.$axios({\n        method: 'get',\n        url: this.COMMON.apiUrl + '/student/getById',\n        params: {\n          id: this.accountId\n        }\n      }).then(function (response) {\n        console.log(response.data.data);\n        _this3.userInfor = response.data.data;\n      }).catch(function (error) {\n        // 请求失败\n        console.log('用户信息请求失败');\n        console.log(error);\n      });\n    },\n    //提交修改的信息\n    submitNewInfor: function submitNewInfor(formName) {\n      var _this4 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          var num = Number(_this4.userId);\n          var alterData = {};\n          alterData = _this4.altUserForm;\n\n          _this4.$set(alterData, 'studentId', _this4.accountId);\n\n          console.log('需要修改的数据');\n          console.log(alterData);\n\n          _this4.$axios({\n            method: 'put',\n            url: _this4.COMMON.apiUrl + '/student/update',\n            //修改学生信息\n            data: alterData\n          }).then(function (response) {\n            // 请求成功\n            _this4.$message({\n              message: '学生信息修改成功',\n              type: 'success'\n            });\n\n            _this4.disUserInfor = true;\n            _this4.chaUserInfor = false;\n\n            _this4.getUserInfor();\n\n            _this4.$emit('studentInfor', false);\n          }).catch(function (error) {\n            // 请求失败\n            _this4.$message({\n              message: '学生信息修改失败',\n              type: 'warning'\n            });\n          });\n        } else {\n          _this4.$message({\n            message: '输入的数据格式不正确，请重新输入！',\n            type: 'warning'\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["userInfor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t  <div v-if='disUserInfor'>\r\n\t\t<div>\r\n\t\t  \t<font class=\"fontTitle\">学校名称：</font>\r\n\t\t  \t<font class=\"fontContent\">{{userInfor.student.school}}</font>\r\n\t\t</div>\r\n\t\t<div class=\"fontDiv\">\r\n\t\t\t<font class=\"fontTitle\">系部名称：</font>\r\n\t\t\t<font class=\"fontContent\">{{userInfor.departmentName}}</font>\r\n\t\t</div>\r\n\t\t<div class=\"fontDiv\">\r\n\t\t\t<font class=\"fontTitle\">专业名称：</font>\r\n\t\t\t<font class=\"fontContent\">{{userInfor.majorName}}</font>\r\n\t\t</div>\r\n\t\t<div class=\"fontDiv\">\r\n\t\t\t<font class=\"fontTitle\">学号：</font>\r\n\t\t\t<font class=\"fontContent\">{{userInfor.student.studentId}}</font>\r\n\t\t</div>\r\n\t\t<div class=\"fontDiv\">\r\n\t\t\t<font class=\"fontTitle\">姓名：</font>\r\n\t\t\t<font class=\"fontContent\">{{userInfor.student.studentName}}</font>\r\n\t\t</div>\r\n\t  </div>\r\n\t  \r\n\t  <div v-if='chaUserInfor'>\r\n\t  \t<el-form ref=\"altUserForm\" :model=\"altUserForm\" label-width=\"100px\">\r\n\t\t\t<!--选择系部-->\r\n\t\t\t<el-form-item\r\n\t\t\t  prop=\"departmentId\"\r\n\t\t\t  label=\"系部名称:\"\r\n\t\t\t  :rules=\"{\r\n\t\t\t    required: true, message: '系部名称不能为空', trigger: 'blur'\r\n\t\t\t  }\"\r\n\t\t\t>\r\n\t\t\t  <el-select @change=\"getCareer\" v-model=\"altUserForm.departmentId\" placeholder=\"请选择\" style=\"width:100%\">\r\n\t\t\t      <el-option\r\n\t\t\t        v-for=\"item in departments\"\r\n\t\t\t        :key=\"item.value\"\r\n\t\t\t        :label=\"item.label\"\r\n\t\t\t\t\twidth=\"100%\"\r\n\t\t\t        :value=\"item.value\"\r\n\t\t\t\t  >\r\n\t\t\t      </el-option>\r\n\t\t\t  </el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t  \t\t<el-form-item\r\n\t  \t\t\tlabel=\"专业名称\" \r\n\t  \t\t\tprop=\"majorId\"\r\n\t\t\t\t:rules=\"[\r\n\t\t\t\t\t { required: true, message: '专业名称不能为空', trigger: 'blur' }\r\n\t\t\t\t]\"\r\n\t  \t\t>\r\n\t  \t\t\t<el-select v-model=\"altUserForm.majorId\" placeholder=\"请选择\" style=\"width:100%\">\r\n\t  \t\t\t    <el-option\r\n\t  \t\t\t      v-for=\"item in careers\"\r\n\t  \t\t\t      :key=\"item.value\"\r\n\t  \t\t\t      :label=\"item.label\"\r\n\t  \t\t\t\t  width=\"100%\"\r\n\t  \t\t\t      :value=\"item.value\">\r\n\t  \t\t\t    </el-option>\r\n\t  \t\t\t</el-select>\r\n\t  \t\t</el-form-item>\r\n\t  \t\t<el-form-item\r\n\t  \t\t\tlabel=\"姓名\" \r\n\t  \t\t\tprop=\"studentName\" \r\n\t  \t\t>\r\n\t  \t\t    <el-input \r\n\t  \t\t\t\tv-model=\"altUserForm.studentName\"\r\n\t  \t\t\t></el-input>\r\n\t  \t\t</el-form-item>\r\n\t  \t\t\r\n\t  \t\t<div style=\"text-align: center;\">\r\n\t  \t\t  <el-button \r\n\t  \t\t\ttype=\"primary\" \r\n\t  \t\t\t@click=\"submitNewInfor('altUserForm')\"\r\n\t  \t\t  >\r\n\t  \t\t\t保存信息\r\n\t  \t\t  </el-button>\r\n\t\t\t  <el-button\r\n\t\t\t\t@click=\"changeShow\"\r\n\t\t\t  >\r\n\t\t\t  \t取消\r\n\t\t\t  </el-button>\r\n\t  \t\t</div>\r\n\t  \t</el-form>\r\n\t  </div>\r\n\t  <div style=\"text-align: center;\">\r\n\t\t<el-button @click=\"changeShow\" v-if='disUserInfor'>\r\n\t\t  修改信息\r\n\t\t</el-button>\r\n\t  </div>\r\n\t</div>\n</template>\n\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\taccountId:this.$route.params.account,\r\n\t\t\t\tuserInfor:{\r\n\t\t\t\t\tdepartmentName:'',\r\n\t\t\t\t\tmajorName:'',\r\n\t\t\t\t\tstudent:{\r\n\t\t\t\t\t\tschool:'',\r\n\t\t\t\t\t\tstudentId:'',\r\n\t\t\t\t\t\tstudentName:''\r\n\t\t\t\t\t}\r\n\t\t\t\t},//存放学生信息\r\n\t\t\t\tdisUserInfor:true,//是否显示个人信息\r\n\t\t\t\tchaUserInfor:false,//是否显示修改个人信息\r\n\t\t\t\taltUserForm:{\r\n\t\t\t\t\t\r\n\t\t\t\t},//存放需要修改的数据\r\n\t\t\t\tdepartments:[],//存放学校系部\r\n\t\t\t\tcareers:[],//存放系部专业\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getUserInfor();\r\n\t\t\tthis.getDepartment();\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t//将修改后的数据传回header.vue\r\n\t\t\tsendToHeader(){\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//获取系部\r\n\t\t\tgetDepartment(){\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t   method: 'get',\r\n\t\t\t\t   url:this.COMMON.apiUrl+'/department/getList',\r\n\t\t\t\t }).then(response => {  // 请求成功\r\n\t\t\t\t\tlet depData=[];\r\n\t\t\t\t\tdepData=response.data.data;\r\n\t\t\t\t\tfor(let i=0;i<depData.length;i++){\r\n\t\t\t\t\t\tthis.$set(this.departments,i,{'value':depData[i].departmentId,'label':depData[i].departmentName})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(error => {  // 请求失败\r\n\t\t\t\t\tconsole.log('请求失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//根据系部的名称，获取对应的专业名称\r\n\t\t\tgetCareer(){\r\n\t\t\t\tif(this.altUserForm.departmentId!=''){\r\n\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t   method: 'get',\r\n\t\t\t\t\t   url:this.COMMON.apiUrl+'/major/getList',\r\n\t\t\t\t\t }).then(response => {  // 请求成功\r\n\t\t\t\t\t\tconsole.log('专业')\r\n\t\t\t\t\t\tconsole.log(response.data.data);\r\n\t\t\t\t\t\tlet majData=[];\r\n\t\t\t\t\t\tlet j=0;\r\n\t\t\t\t\t\tmajData=response.data.data;\r\n\t\t\t\t\t\tfor(let i=0;i<majData.length;i++){\r\n\t\t\t\t\t\t\tif(majData[i].departmentId==this.altUserForm.departmentId){\r\n\t\t\t\t\t\t\t\tthis.$set(this.careers,j,{'value':majData[i].majorId,'label':majData[i].majorName});\r\n\t\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(error => {  // 请求失败\r\n\t\t\t\t\t\tconsole.log('请求失败');\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//显示修改个人信息界面\r\n\t\t\tchangeShow(){\r\n\t\t\t\tthis.disUserInfor=!this.disUserInfor;\r\n\t\t\t\tthis.chaUserInfor=!this.disUserInfor;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//展示选中的数据\r\n\t\t\tobtainValue(value) {\r\n\t\t\t\tconsole.log(value)\r\n\t\t\t},\r\n\t\t\t//获取用户信息\r\n\t\t\tgetUserInfor(){\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\t method: 'get',\r\n\t\t\t\t\t url:this.COMMON.apiUrl+'/student/getById',\r\n\t\t\t\t\t params:{\r\n\t\t\t\t\t\tid:this.accountId\r\n\t\t\t\t\t }\r\n\t\t\t\t }).then(response => {\r\n\t\t\t\t\tconsole.log(response.data.data);\r\n\t\t\t\t\tthis.userInfor=response.data.data;\r\n\t\t\t\t}).catch(error => {  // 请求失败\r\n\t\t\t\t\tconsole.log('用户信息请求失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//提交修改的信息\r\n\t\t\tsubmitNewInfor(formName){\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tlet num=Number(this.userId)\r\n\t\t\t\t\t\tlet alterData={};\r\n\t\t\t\t\t\talterData=this.altUserForm;\r\n\t\t\t\t\t\tthis.$set(alterData,'studentId',this.accountId);\r\n\t\t\t\t\t\tconsole.log('需要修改的数据');\r\n\t\t\t\t\t\tconsole.log(alterData);\r\n\t\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\t\tmethod: 'put',\r\n\t\t\t\t\t\t\turl:this.COMMON.apiUrl+'/student/update',//修改学生信息\r\n\t\t\t\t\t\t\tdata:alterData\r\n\t\t\t\t\t\t}).then(response => {  // 请求成功\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t  message: '学生信息修改成功',\r\n\t\t\t\t\t\t\t  type: 'success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.disUserInfor=true;\r\n\t\t\t\t\t\t\tthis.chaUserInfor=false;\r\n\t\t\t\t\t\t\tthis.getUserInfor();\r\n\t\t\t\t\t\t\tthis.$emit('studentInfor',false);\r\n\t\t\t\t\t\t}).catch(error => {  // 请求失败\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t  message: '学生信息修改失败',\r\n\t\t\t\t\t\t\t  type: 'warning'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t  message: '输入的数据格式不正确，请重新输入！',\r\n\t\t\t\t\t\t  type: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped=\"scoped\">\r\n\t.fontTitle{\r\n\t\tfont-size: 18px;\r\n\t}\r\n\t.fontContent{\r\n\t\tfont-size:15px;\r\n\t}\r\n\t.fontDiv{\r\n\t\tmargin-top: 10px;\r\n\t\tfont-size: 20px;\r\n\t}\n</style>\n"],"sourceRoot":"src/components/index/indexHeader"}]}